(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/plugin-cavas/poster"],{357:
/*!********************************************************************************************!*\
  !*** C:/Users/mir LI/Desktop/YiXianBaoWechatNew/wechat/components/plugin-cavas/poster.vue ***!
  \********************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var r=n(/*! ./poster.vue?vue&type=template&id=e3067f3e& */358),o=n(/*! ./poster.vue?vue&type=script&lang=js& */360);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n(/*! ./poster.vue?vue&type=style&index=0&lang=less& */363);var c,a=n(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */12),u=Object(a["default"])(o["default"],r["render"],r["staticRenderFns"],!1,null,null,null,!1,r["components"],c);u.options.__file="components/plugin-cavas/poster.vue",e["default"]=u.exports},358:
/*!***************************************************************************************************************************!*\
  !*** C:/Users/mir LI/Desktop/YiXianBaoWechatNew/wechat/components/plugin-cavas/poster.vue?vue&type=template&id=e3067f3e& ***!
  \***************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";n.r(e);var r=n(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./poster.vue?vue&type=template&id=e3067f3e& */359);n.d(e,"render",(function(){return r["render"]})),n.d(e,"staticRenderFns",(function(){return r["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return r["recyclableRender"]})),n.d(e,"components",(function(){return r["components"]}))},359:
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/mir LI/Desktop/YiXianBaoWechatNew/wechat/components/plugin-cavas/poster.vue?vue&type=template&id=e3067f3e& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";var r;n.r(e),n.d(e,"render",(function(){return o})),n.d(e,"staticRenderFns",(function(){return c})),n.d(e,"recyclableRender",(function(){return i})),n.d(e,"components",(function(){return r}));var o=function(){var t=this,e=t.$createElement;t._self._c},i=!1,c=[];o._withStripped=!0},360:
/*!*********************************************************************************************************************!*\
  !*** C:/Users/mir LI/Desktop/YiXianBaoWechatNew/wechat/components/plugin-cavas/poster.vue?vue&type=script&lang=js& ***!
  \*********************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var r=n(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./poster.vue?vue&type=script&lang=js& */361),o=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=o.a},361:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/mir LI/Desktop/YiXianBaoWechatNew/wechat/components/plugin-cavas/poster.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(/*! ../../minix/helper.js */206)),o=n(/*! ./poster.js */362);function i(t){return t&&t.__esModule?t:{default:t}}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s={data:function(){return{pxWidth:"",pxHeight:"",drawArr:[]}},props:{config:{type:Object,value:{}}},onReady:function(){console.log(this.config,123)},watch:{config:function(){this.config.flag&&this.onCreate()}},methods:Object.assign({onCreate:function(){var t=this;this.downloadResource({images:this.config.value.images}).then((function(){t.create(t.config.value)}))},getHeight:function(t){var e=function(t){var e=t.lineHeight||t.fontSize,n=0;return n="top"===t.baseLine?e:"middle"===t.baseLine?e/2:0,n},n=[];(t.blocks||[]).forEach((function(t){n.push(t.y+t.height)})),(t.texts||[]).forEach((function(t){var r;"[object Array]"===Object.prototype.toString.call(t.text)?t.text.forEach((function(o){r=e(a({},o,{baseLine:t.baseLine})),n.push(t.y+r)})):(r=e(t),n.push(t.y+r))})),(t.images||[]).forEach((function(t){n.push(t.y+t.height)})),(t.lines||[]).forEach((function(t){n.push(t.startY),n.push(t.endY)}));var r=n.sort((function(t,e){return e-t})),o=0;return r.length>0&&(o=r[0]),t.height<o||!t.height?o:t.height},create:function(t){var e=this;this.ctx=wx.createCanvasContext("canvasid",this),this.pixelRatio=t.pixelRatio||1;var n=this.getHeight(t);this.initCanvas(t.width,n,t.debug).then((function(){t.backgroundColor&&(e.ctx.save(),e.ctx.setFillStyle(t.backgroundColor),e.ctx.fillRect(0,0,r.default.toPx(t.width),r.default.toPx(n)),e.ctx.restore());var o=t.texts,i=void 0===o?[]:o,c=(t.images,t.blocks),a=void 0===c?[]:c,u=t.lines,s=void 0===u?[]:u,f=e.drawArr.concat(i.map((function(t){return t.type="text",t.zIndex=t.zIndex||0,t}))).concat(a.map((function(t){return t.type="block",t.zIndex=t.zIndex||0,t}))).concat(s.map((function(t){return t.type="line",t.zIndex=t.zIndex||0,t})));console.log(e.drawArr,f,9999999999),f.sort((function(t,e){return t.zIndex-e.zIndex})),f.forEach((function(t){"image"===t.type?e.drawImage(t):"text"===t.type?e.drawText(t):"block"===t.type?e.drawBlock(t):"line"===t.type&&e.drawLine(t)}));var l=wx.getSystemInfoSync(),d=l.platform,p=0;"android"===d&&(p=300),e.ctx.draw(!1,(function(){setTimeout((function(){wx.canvasToTempFilePath({canvasId:"canvasid",success:function(t){e.$emit("success",t.tempFilePath)},fail:function(t){e.$emit("fail",t)}},e)}),p)}))})).catch((function(t){wx.showToast({icon:"none",title:t.errMsg||"生成失败"}),console.error(t)}))}},o.main,o.handle,o.helper)};e.default=s},363:
/*!******************************************************************************************************************************!*\
  !*** C:/Users/mir LI/Desktop/YiXianBaoWechatNew/wechat/components/plugin-cavas/poster.vue?vue&type=style&index=0&lang=less& ***!
  \******************************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var r=n(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--10-oneOf-1-2!./node_modules/postcss-loader/src??ref--10-oneOf-1-3!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--10-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./poster.vue?vue&type=style&index=0&lang=less& */364),o=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=o.a},364:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--10-oneOf-1-2!./node_modules/postcss-loader/src??ref--10-oneOf-1-3!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--10-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/mir LI/Desktop/YiXianBaoWechatNew/wechat/components/plugin-cavas/poster.vue?vue&type=style&index=0&lang=less& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){}}]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/components/plugin-cavas/poster.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/plugin-cavas/poster-create-component',
    {
        'components/plugin-cavas/poster-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('2')['createComponent'](__webpack_require__(357))
        })
    },
    [['components/plugin-cavas/poster-create-component']]
]);
